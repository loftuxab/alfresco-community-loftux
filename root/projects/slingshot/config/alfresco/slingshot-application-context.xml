<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>
   
   <bean id="share.custom.config" class="org.springframework.extensions.config.ConfigBootstrap" init-method="register">
      <property name="configService" ref="web.config" />
      <property name="configs">
         <list>
            <value>classpath:alfresco/web-extension/share-config-custom.xml</value>
         </list>
      </property>
   </bean>
    
   <!-- Override WebScript Messages - add slingshot application messages -->
   <bean id="webscripts.resources" class="org.springframework.extensions.surf.util.ResourceBundleBootstrapComponent">
      <property name="resourceBundles">
         <list>
            <value>alfresco.messages.webscripts</value>
            <value>alfresco.messages.slingshot</value>
         </list>
      </property>
   </bean>
   
   <!-- Override and configure the remote store for Slingshot -->
   <!-- Point to a specific store on the Alfresco instance -->
   <bean id="webframework.remotestore" parent="webscripts.remotestore" abstract="true" init-method="init">
      <property name="endpoint">
         <value>alfresco</value>
      </property>
      <property name="api">
         <value>/remotestore</value>
      </property>
      <property name="storeId">
         <value>sitestore</value>
      </property>
      <property name="connectorService" ref="connector.service" />
      <property name="connectorProvider" ref="webframework.connector.provider" />      
   </bean>
   
   
   <!-- uncomment this section (or override bean def in custom app context) for remote component deploy -->
   <!-- Override WebScripts searchpath - to include remote store -->
   <!--
   <bean id="webframework.searchpath" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
            <ref bean="webframework.remotestore.webscripts" />
            <ref bean="webframework.store.webscripts.custom" />
            <ref bean="webframework.store.webscripts" />
            <ref bean="webscripts.store" />
         </list>
      </property>
   </bean>
   -->
   
   <!-- uncomment this section (or override bean def in custom app context) for remote component deploy -->
   <!-- Override Templates and Scripts searchpath - to include remote store -->
   <!--
   <bean id="webframework.templates.searchpath" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
            <ref bean="webframework.remotestore.webscripts" />
            <ref bean="webframework.store.webscripts.custom" />
            <ref bean="webframework.store.system-templates" />
            <ref bean="webframework.store.templates" />
            <ref bean="webframework.store.webscripts" />
         </list>
      </property>
   </bean>
   -->
   
   <!-- Override of all model object search paths - to include remote store -->
   <bean id="webframework.searchpath.chrome" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.chrome" />
         	<ref bean="webframework.classpathstore.chrome.custom" />
            <ref bean="webframework.classpathstore.chrome" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.component" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.component" />
         	<ref bean="webframework.classpathstore.component.custom" />
            <ref bean="webframework.classpathstore.component" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.componenttype" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.componenttype" />
         	<ref bean="webframework.classpathstore.componenttype.custom" />
            <ref bean="webframework.classpathstore.componenttype" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.configuration" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.configuration" />
         	<ref bean="webframework.classpathstore.configuration.custom" />
            <ref bean="webframework.classpathstore.configuration" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.contentassociation" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.contentassociation" />
         	<ref bean="webframework.classpathstore.contentassociation.custom" />
            <ref bean="webframework.classpathstore.contentassociation" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.page" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.page" />
         	<ref bean="webframework.classpathstore.page.custom" />
            <ref bean="webframework.classpathstore.page" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.pageassociation" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.pageassociation" />
         	<ref bean="webframework.classpathstore.pageassociation.custom" />
            <ref bean="webframework.classpathstore.pageassociation" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.pagetype" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.pagetype" />
         	<ref bean="webframework.classpathstore.pagetype.custom" />
			   <ref bean="webframework.classpathstore.pagetype" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.templateinstance" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
         	<ref bean="webframework.remotestore.templateinstance" />
         	<ref bean="webframework.classpathstore.templateinstance.custom" />
			   <ref bean="webframework.classpathstore.templateinstance" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.templatetype" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
	         <ref bean="webframework.remotestore.templatetype" />
	         <ref bean="webframework.classpathstore.templatetype.custom" />
            <ref bean="webframework.classpathstore.templatetype" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.searchpath.theme" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
            <ref bean="webframework.remotestore.theme" />
            <ref bean="webframework.classpathstore.theme.custom" />
            <ref bean="webframework.classpathstore.theme" />
         </list>
      </property>
   </bean>
   
   <bean id="webframework.presets.searchpath" class="org.alfresco.web.scripts.SearchPath">
      <property name="searchPath">
         <list>
            <ref bean="webframework.remotestore.presets" />
            <ref bean="webframework.classpathstore.presets.custom" />
            <ref bean="webframework.classpathstore.presets" />
         </list>
      </property>
   </bean>
   
   <!-- Slingshot "no-component" processor -->
   <bean id="webframework.processor.nocomponent" class="org.alfresco.web.site.EmptyRegionRenderer" />   
   
</beans>